#代码管理需求文档
##一、概述
DOP中代码管理模块用于存储和管理源代码，需要实现gitlab的大部分常用功能，包括项目管理功能、组管理功能以及个人设置功能。在本项目中，代码管理模块主要实现一个定制化的UI界面,服务器端转发请求到gitlab服务。DOP提供代码管理的入口，可跳转进入代码管理完整页面。
##二、功能点描述
###2.1 项目管理
####2.1.1 仓库管理
显示一个已经创建的repository的总览,可以创建新的repository，删除repository会给出相应的警告提示。

####2.1.2 仓库详情
#####a.源文件
展示源文件的目录结构，可以支持点击查看某些格式的文件内容，可以在网页添加或者编辑文件作为一次提交

#####b.提交
按照时间线显示提交，包括提交者、时间、提交信息,可以点击查看具体的提交内容

#####c.release和tag
查看已有的release版本，创建tag来发行版本

#####d.分支
查看仓库存在的所有分支，源文件和提交可以切换分支来查看不同的具体内容

####2.1.3 合并请求
在功能分支或者forking工作流中使用pull request功能,通过代码审查后，才能并入master分支

####2.1.4 issues
实现与gitlab相同的issues功能

####2.1.5 wiki
实现与gitlab相同的wiki功能

####2.1.6 项目设置
#####a.基本设置
>(1)	设置项目基本信息例如名称，显示内容(例如是否显示issues,wiki等)

>(2)	设置项目的权限，private or public 等

>(3)	webhook

#####b.成员管理
>可以邀请个人或小组作为开发成员

#####c.仓库保护
>(1)	分支保护，按照开发者不同的角色来给分支设定动作的权限,例如只允许maintainer向master分支push

>(2) 	标签保护

###2.2 开发者管理
####2.2.1 用户管理
可以添加、删除、查找user
####2.2.2 组管理
添加、删除、查找和修改group信息，可以把user添加到group当中，并且为每个user设定角色，例如maintainer、developer等，不同角色在项目中可以设置不同的权限

###2.3 个人设置
####2.2.1 基本信息
包括用户名、邮箱、个人主页、简介、公司、居住地等等的信息，可以上传头像
####2.2.2 邮箱管理
设置用户名绑定的邮箱，用于用户名验证和找回密码
####2.2.3 通知管理
设定各类通知信息的开关
####2.2.4 SSH公钥
项目为public公开状态下可以通过http方式进行连接，在private和internal模式下需要使用ssh方式，支持添加ssh公钥来连接gitlab

##三、功能点优先级与估时
###仓库管理
|功能点|M|S|C|W|约束|估时|
|---|---|---|---|---|---|---|
|添加仓库|Y| | | | |2|
|删除仓库|Y| | | | |1|
|仓库总览|Y| | | | |2|

|功能点|M|S|C|W|约束|估时|
|---|---|---|---|---|---|---|
|源文件目录展示|Y| | | | |2|
|查看源文件| |Y| | | |1|
|编辑文件| |Y| | | |1|
|添加文件| |Y| | | |1|
|显示提交时间线|Y| | | | |2|
|查看提交内容|Y| | | | |1|
|查看releases|Y| | | | |1|
|添加tag|Y| | | | |1|
|查看分支|Y| | | | |1|
|切换分支|Y| | | | |1|

###合并请求
|功能点|M|S|C|W|约束|估时|
|---|---|---|---|---|---|---|
|合并请求|Y| | | | |3|

###issues
|功能点|M|S|C|W|约束|估时|
|---|---|---|---|---|---|---|
|创建issue|Y| | | | |0.5|
|分配issue给成员| |Y| | | |0.5|
|绑定标签| |Y| | | |0.5|
|绑定里程碑| |Y| | | |0.5|
|关闭issue|Y| | | | |0.5|

###wiki
|功能点|M|S|C|W|约束|估时|
|---|---|---|---|---|---|---|
|添加页面|Y| | | | |0.5|
|删除页面|Y| | | | |0.5|
|编辑页面|Y| | | | |0.5|
|查找页面|Y| | | | |0.5|

###项目设置
|功能点|M|S|C|W|约束|估时|
|---|---|---|---|---|---|---|
|设置项目基本信息|Y| | | | |1|
|设置项目权限|Y| | | | |1|
|webhook|Y| | | | |2|
|邀请成员和小组|Y| | | | |1|
|分支保护|Y| | | | |1.5|
|标签保护|Y| | | | |1.5|

###用户管理
|功能点|M|S|C|W|约束|估时|
|---|---|---|---|---|---|---|
|添加用户|Y| | | | |0.25|
|删除用户|Y| | | | |0.25|
|查找用户|Y| | | | |0.25|
|修改用户信息|Y| | | | |0.25|

###组管理
|功能点|M|S|C|W|约束|估时|
|---|---|---|---|---|---|---|
|添加组|Y| | | | |0.5|
|删除组|Y| | | | |0.5|
|查找组|Y| | | | |0.5|
|设置组成员|Y| | | | |0.5|
|设置成员角色与权限|Y| | | | |1|

###个人设置
|功能点|M|S|C|W|约束|估时|
|---|---|---|---|---|---|---|
|编辑个人基本信息|Y| | | | |0.5|
|上传头像| |Y| | | |0.5|
|邮箱管理|Y| | | | |0.5|
|通知管理|Y| | | | |0.5|
|添加ssh公钥|Y| | | | |1.5|









