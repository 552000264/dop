# 权限管理

## 1.	概览
权限管理，一般指根据系统设置的安全规则或者安全策略，用户可以访问而且只能访问自己被授权的资源。
本平台中权限管理主要关注的任务有：
**
（1）功能级权限管理；
（2）数据级权限管理；
（3）用户的管理；
（4）非功能性需求。**
首先要实现的是功能权限管理，对登录的用户进行权限验证来判断其是否有权使用该功能；其次对于数据权限管理，要求可以依据不同用户的角色来划分数据集，做到细粒度及数据级的权限管理；
此外，企业级用户可以进行用户的管理和角色分配，并可以创建普通用户；最后要提高权限管理的健壮性和可靠性。
## 2.	权限管理功能点介绍

### 2.1	用户管理

登入平台时，可实现正确的用户认证过程（由于用户认证过程不属于真正的权限管理范畴，在此不过多描述），点击已登录的用户头像，可以对当前用户的信息进行修改：
>（1）登录密码；  
>（2）绑定手机号，邮箱账号或密保问题等安全性认证问题；  
>（3）企业信息及备注。  
以下内容为特定角色才具有的权限，非特定角色外无法修改  
>（4）项目成员  
>（5）成员用户的权限  
用户管理模块能实现对不同用户的角色划分及信息修改，主要基于以下的概念：
![RBAC权限模型]
https://gss3.bdstatic.com/-Po3dSag_xI4khGkpoWK1HF6hhy/baike/c0%3Dbaike60%2C5%2C5%2C60%2C20/sign=f2517e4c6e061d95694b3f6a1a9d61b4/91ef76c6a7efce1bc646cfbeaf51f3deb48f6550.jpg

### 2.2	功能权限  

根据不同用户身份来确定不同的可见、可操作的功能范围。  
>   （1）对象级功能模块：在目录、菜单上加权限控制，有权限的可以看到对应菜单名，没有权限无法看到；在业务模块的功能按钮上加权限控制，对无权限的角色隐藏一些按钮。  

>   （2）操作点权限模块：对管理员类角色赋予创建，删除等操作权限，对普通角色只赋予查询权限。  

 >  （3）字段权限模块：展示信息时加以控制，对特定用户进行字段信息隐藏。  

 >  （4）超级管理员模块：对用户的角色进行分配和改动。

### 2.3	数据权限
#### 2.3.1	基础数据权限
（1）私有：所有数据遵循相关团队成员（包括负责人）及其上级对数据可见，且对这条数据具备同样的权限【只读、可编辑】，上级部门的部门负责人可以看到下级部门的所有数据。
（2）公开只读：所有数据对团队公开，单条数据的负责人及其上级、以及相关团队具备编辑权限的成员可以编辑该数据。
（3）公开读写：所有数据对团队公开，全员可编辑。
#### 2.3.2	数据共享
数据共享规则是将数据来源的某个对象全部负责的数据共享给特定的共享范围。配置数据共享规则后，被共享方对共享方所负责的所有数据可见，并具备共享权限对应的操作权限。

### 2.4	角色分类  
初步拟定下列角色及权限：  
>（1）超级管理员：平台拥有者，使用该平台的团队领导者，具有管理团队成员的权限，管理功能点是否可用的权限，具有平台所有功能的使用权限。  

>（2）项目经理（管理员）：具有管理团队成员的权限，具有平台所有功能的使用权限。  

>（3）编码人员：具有测试服务，代码管理服务，项目管理服务业务层权限。  

>（4）后台测试人员：具有流水线服务，容器镜像服务及管理底层服务的权限。  

### 2.5	数据权限范围说明
规定发布任何代码和项目说明文档时具有是否公开的选项，若选择公开则所有成员可见，若不公开，则只有特定用户可见，只有选择共享后其他用户才能看到。


## 三、功能需求详细叙述（未写）
### 3.1 用户管理、组织层级
流水线管理需要调用用户及其组织信息，一个组织有多个项目，一个项目对应一条流水线，组织、项目的管理人员流水线的负责人有权审核项目的部署。流水线管理模块需要知道该项目的组织层级管理以便能够审核。
### 3.2	权限管理
功能权限、数据权限（待定）
### 3.3	测试管理
构建完成的制品部署到测试环境中，流水线管理模块需要知道测试管理提供的何种测试手段，测试管理模块应当能够提供相应的接口（接口待定）


## 四、	功能点分析



